{% extends 'base.html' %}
{% block title %}Manage Availability - HMS{% endblock %}
{% block content %}
<h1 class="h4 mb-3">Manage Availability (Next 7 Days)</h1>
<form method="post" class="mb-4" novalidate>
  {{ form.hidden_tag() }}
  <div class="row g-3 align-items-end">
    <div class="col-md-6">
      {{ form.slots.label(class_='form-label') }}
      {{ form.slots(class_='form-control', placeholder='09:00, 10:00, 14:00') }}
      <div class="form-text">These times will be applied to each of the next 7 days.</div>
    </div>
    <div class="col-md-3">
      {{ form.submit(class_='btn btn-primary') }}
    </div>
  </div>
</form>
<h2 class="h6">Current Slots</h2>
<div class="table-responsive">
  <table class="table table-sm">
    <thead><tr><th>Date</th><th>Time</th><th>Booked?</th></tr></thead>
    <tbody>
      {% for s in slots %}
      <tr><td>{{ s.date }}</td><td>{{ s.time }}</td><td>{{ 'Yes' if s.is_booked else 'No' }}</td></tr>
      {% else %}
      <tr><td colspan="3" class="text-muted">No slots defined</td></tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
